##########################################################################
通用性http消息写队列

####安装 ：####
tar zxvf libevent-2.0.10-stable.tar.gz
cd libevent-2.0.10-stable
./configure --prefix=/usr/local/libevent-2.0.10-stable
make
make install
cd ..

tar zxvf tokyocabinet-1.4.47.tar.gz
cd tokyocabinet-1.4.47
./configure --prefix=/usr/local/tokyocabinet-1.4.47
make
make install
cd ..

tar zxvf curl-7.21.7.tar.gz
cd curl-7.21.7
./configure --prefx=/usr/local/curl-7.21.7
make
make install
cd ..

编译并启动服务
make
./synchttp -x${dir}

#### 参数说明：####

-l <ip_addr> 服务器地址
-w <ip_addr> 分发地址
-p <num> 服务器端口
-x <path> 缓存数据目录
-t <second> 消息超时时间
-s <second> 消息同步到硬盘的时间/s
-c <num> 节点数量
-m <size> 缓存数据空间大小
-i <file> pid文件
-a <auth> 验证密码
-d 守护进程方式运行
-h 帮助信息


######################################################################################
######################################################################################

### How to install? ###

tar zxvf libevent-2.0.10-stable.tar.gz
cd libevent-2.0.10-stable
./configure --prefix=/usr/local/libevent-2.0.10-stable
make
make install
cd ..

tar zxvf tokyocabinet-1.4.47.tar.gz
cd tokyocabinet-1.4.47
./configure --prefix=/usr/local/tokyocabinet-1.4.47
make
make install
cd ..

tar zxvf curl-7.21.7.tar.gz
cd curl-7.21.7
./configure --prefx=/usr/local/curl-7.21.7
make
make install
cd ..

make
./synchttp -x${dir}


### How to use? ###

HTTP Simple Sync Service - synchttp v 1.0 (April 14, 2011)

Author: rainkid, zhuli ,  E-mail: rainkid@163.com
This is free software, and you are welcome to modify and redistribute it under the New BSD License

-l <ip_addr>  interface to listen on, default is 0.0.0.0
-w <ip_addr>  interface to dispense out, default is 0.0.0.0
-p <num>      TCP port number to listen on (default: 2688)
-x <path>     database directory (example: /opt/synchttp/data)
-t <second>   keep-alive timeout for an http request (default: 60)
-s <second>   the interval to sync updated contents to the disk (default: 5)
-c <num>      the maximum number of non-leaf nodes to be cached (default: 1024)
-m <size>     database memory cache size in MB (default: 100)
-i <file>     save PID in <file> (default: /tmp/synchttp.pid)
-a <auth>     the auth password to access synchttp (example: mypasswd)
-d            run as a daemon
-h            print this help and exit

Use command "killall synchttp", "pkill synchttp" and "kill `cat /tmp/synchttp.pid`" to stop synchttp.

######################################################################################
